# Tasks: Dashboard äº¤äº’å¸ƒå±€é‡æ„

**Input**: Design documents from `/specs/001-dashboard-layout-update/`  
**Prerequisites**: `plan.md` (å·²å®Œæˆ), `spec.md` (å·²å®Œæˆ), `research.md`, `data-model.md`, `quickstart.md`

**Tests**: æœ¬è¿­ä»£ä»¥ UI é‡æ„ä¸ºä¸»ï¼Œä¸å¼ºåˆ¶æ–°å¢è‡ªåŠ¨åŒ–æµ‹è¯•ï¼›å¦‚æœ‰ç²¾åŠ›ï¼Œå¯ä¸ºå…³é”®äº¤äº’è¡¥å……ç»„ä»¶æµ‹è¯•æˆ–ç®€å• E2E æµ‹è¯•ã€‚  
**Organization**: ä»»åŠ¡æŒ‰ User Story åˆ†ç»„ï¼Œæ¯ä¸ª Story éƒ½å¯ä»¥ç‹¬ç«‹å®ç°å’ŒéªŒè¯ã€‚

## Format: `[ID] [P?] [Story] Description`

- **[P]**: å¯å¹¶è¡Œæ‰§è¡Œï¼ˆä¸åŒæ–‡ä»¶ã€æ— ç›´æ¥ä¾èµ–ï¼‰
- **[Story]**: å¯¹åº”çš„ç”¨æˆ·æ•…äº‹æ ‡ç­¾ï¼ˆUS1, US2, US3ï¼‰
- æè¿°ä¸­å¿…é¡»åŒ…å«**æ˜ç¡®æ–‡ä»¶è·¯å¾„**

## Path Conventions

- Web appï¼ˆNext.js App Routerï¼‰ï¼š
  - é¡µé¢ä¸å¸ƒå±€ï¼š`app/(dashboard)/**`
  - ç»„ä»¶ï¼š`components/**`
  - ç±»å‹å®šä¹‰ï¼š`types/**`
  - å·¥å…·å‡½æ•°ï¼š`lib/**`

---

## Phase 1: Setup (Shared Infrastructure)

**Purpose**: ç¡®ä¿å¼€å‘ç¯å¢ƒä¸åŸºç¡€ä¾èµ–å°±ç»ªï¼Œä¸ºåç»­å¸ƒå±€é‡æ„æ‰“åŸºç¡€ã€‚

- [x] T001 åœ¨é¡¹ç›®æ ¹ç›®å½• `./` å®‰è£…ä¾èµ–å¹¶ç¡®ä¿å¯è¿è¡Œ `pnpm install`ã€`pnpm dev`
- [x] T002 ç¡®è®¤å½“å‰åˆ†æ”¯ä¸º `001-dashboard-layout-update`ï¼ˆé¡¹ç›®æ ¹ç›®å½• `./`ï¼Œä¿è¯åç»­æ”¹åŠ¨é›†ä¸­åœ¨è¯¥åˆ†æ”¯ï¼‰
- [x] T003 [P] æ£€æŸ¥ `components.json`ã€`tailwind.config.js`ã€`app/globals.css` æ˜¯å¦ä¸ shadcn/ui é…ç½®ä¸€è‡´ï¼ˆé¡¹ç›®æ ¹ç›®å½• `./`ï¼‰

---

## Phase 2: Foundational (Blocking Prerequisites)

**Purpose**: ä¸ºæ‰€æœ‰ User Story å‡†å¤‡å…±åŒä¾èµ–çš„åŸºç¡€ç»“æ„å’Œç±»å‹å®šä¹‰ã€‚

**âš ï¸ CRITICAL**: æœªå®Œæˆæœ¬é˜¶æ®µå‰ï¼Œä¸åº”å¼€å§‹å…·ä½“ User Story å®ç°ã€‚

- [x] T004 åœ¨é¡¹ç›®æ ¹ç›®å½• `./` é€šè¿‡ `npx shadcn@latest add sidebar` å®‰è£… Sidebar ç»„ä»¶å¹¶ç”Ÿæˆ `components/ui/sidebar.tsx`
- [x] T005 [P] æŒ‰ `data-model.md` åœ¨ `types/dashboard.types.ts` ä¸­æ–°å¢ `NavItem`ã€`DashboardLayoutState`ã€`DashboardSectionCard` ç±»å‹å®šä¹‰
- [x] T006 [P] æ ¡éªŒ `components/ui/sidebar.tsx` å¯¼å‡ºçš„ Sidebar ç›¸å…³ç»„ä»¶ï¼ˆ`Sidebar`, `SidebarContent` ç­‰ï¼‰åœ¨ TypeScript ä¸‹æ— ç¼–è¯‘é”™è¯¯
- [x] T007 ç¡®è®¤ `lib/utils/cn.ts` æˆ– `lib/utils.ts` ä¸­çš„ `cn` æ–¹æ³•å¯ä¾› Sidebar ä¸å¸ƒå±€ç»„ä»¶ä½¿ç”¨ï¼Œå¹¶åœ¨éœ€è¦å¤„é€šè¿‡ `@/lib/utils` å¼•å…¥

**Checkpoint**: Sidebar ç»„ä»¶ä¸ç±»å‹å®šä¹‰å‡†å¤‡å®Œæ¯•ï¼Œå¯ä»¥å¼€å§‹å„ä¸ª User Story çš„å®ç°ã€‚

---

## Phase 3: User Story 1 - å·¦å³å¸ƒå±€ + å¯¼èˆªéª¨æ¶ (Priority: P1) ğŸ¯ MVP

**Goal**: å°† dashboard ä»é¡¶éƒ¨æ ‡ç­¾å¯¼èˆªæ”¹ä¸ºå·¦å³å¸ƒå±€ï¼›å·¦ä¾§ä¸ºä¸»å¯¼èˆªï¼Œå³ä¾§ä¸ºå·¥ä½œåŒºï¼Œæ”¯æŒåŸºç¡€è·¯ç”±åˆ‡æ¢ä¸é«˜äº®ã€‚  
**Independent Test**: åªå®ç°æœ¬ Story æ—¶ï¼Œç”¨æˆ·å¯ä»¥åœ¨å·¦å³ç»“æ„ä¸­é€šè¿‡å·¦ä¾§å¯¼èˆªåœ¨å„æ¨¡å—é—´åˆ‡æ¢ï¼Œå¹¶åœ¨ 3 åˆ†é’Ÿå†…å®Œæˆã€Œä»é¦–é¡µè¿›å…¥æ•°æ®åˆ†æã€å†å›åˆ°é¦–é¡µã€ç­‰æ“ä½œï¼Œæ— éœ€é¢å¤–æŒ‡å¼•ã€‚

### Implementation for User Story 1

- [x] T008 [US1] é‡æ„ `app/(dashboard)/layout.tsx` ä¸ºå·¦å³ç»“æ„éª¨æ¶ï¼ˆä½¿ç”¨ `SidebarProvider` + `flex` å¸ƒå±€ï¼Œå æ»¡è§†å£é«˜åº¦ï¼‰
- [x] T009 [P] [US1] åœ¨ `components/layout/DashboardSidebar.tsx` ä¸­åˆ›å»ºåŸºç¡€å·¦ä¾§å¯¼èˆªç»„ä»¶ï¼Œä½¿ç”¨ `components/ui/sidebar.tsx` æä¾›çš„ Sidebar ç»“æ„
- [x] T010 [P] [US1] æŒ‰ `research.md` åœ¨ `components/layout/DashboardSidebar.tsx` ä¸­å®ç° `navItems` é…ç½®ï¼ˆä¸»é¡µã€æ•°æ®åˆ†æã€æ•°æ®æ¦‚è§ˆã€å‘å¸ƒç®¡ç†ã€è´¦å·ç®¡ç†ã€å¹³å°ç®¡ç†ã€è®¾ç½®ï¼‰å¹¶ä½¿ç”¨ `NavItem` ç±»å‹
- [x] T011 [US1] ä¸ºç¼ºå¤±è·¯ç”±åˆ›å»ºå ä½é¡µé¢ï¼š`app/(dashboard)/data-overview/page.tsx`ã€`app/(dashboard)/accounts/page.tsx`ã€`app/(dashboard)/platforms/page.tsx`ï¼Œä¿æŒç®€å•å†…å®¹ç¡®ä¿è·¯ç”±å¯ç”¨
- [x] T012 [US1] åœ¨ `components/layout/DashboardSidebar.tsx` ä¸­ä½¿ç”¨ `usePathname` + `cn` å®ç°å¯¼èˆªé«˜äº®é€»è¾‘ï¼ˆæ”¯æŒç²¾ç¡®åŒ¹é…ä¸å‰ç¼€åŒ¹é…ï¼‰
- [x] T013 [US1] åœ¨ `app/(dashboard)/layout.tsx` ä¸­ä¸ºå³ä¾§å·¥ä½œåŒºæ·»åŠ æ»šåŠ¨ä¸å†…è¾¹è·ï¼ˆ`overflow-y-auto` + `p-6`ï¼‰ï¼Œå¹¶ç¡®ä¿å·¦ä¾§å¯¼èˆªåŒºåŸŸæ”¯æŒå‚ç›´æ»šåŠ¨ï¼ˆ`overflow-y-auto`ï¼‰

**Checkpoint**: å·¦å³å¸ƒå±€ä¸å¯¼èˆªéª¨æ¶ç¨³å®šå¯ç”¨ï¼Œæ‰€æœ‰ä¸»è¦è·¯ç”±å¯é€šè¿‡å·¦ä¾§å¯¼èˆªè¿›å…¥ï¼Œå½¢æˆå¯æ¼”ç¤ºçš„ MVPã€‚

---

## Phase 4: User Story 2 - é»‘ç™½æç®€è§†è§‰ä¸ä¿¡æ¯å±‚çº§ (Priority: P2)

**Goal**: å°† dashboard è§†è§‰ç»Ÿä¸€ä¸ºé»‘ç™½æç®€é£æ ¼ï¼Œé‡è¦ä¿¡æ¯é€šè¿‡æœ‰é™å¼ºè°ƒè‰²ä¸ç»“æ„åŒ–å¸ƒå±€ä½“ç°ã€‚  
**Independent Test**: åœ¨ä»…å¯ç”¨ US1+US2 çš„æƒ…å†µä¸‹ï¼Œæ–°ç”¨æˆ·é¦–æ¬¡è¿›å…¥é¡µé¢ 3 ç§’å†…èƒ½è¯†åˆ«ä¸»æ“ä½œæŒ‰é’®ä¸ä¸»è¦æ•°æ®åŒºåŸŸï¼Œå¹¶åé¦ˆã€Œç•Œé¢æ¸…æ™°ä¸èŠ±ã€ã€‚

### Implementation for User Story 2

- [x] T014 [US2] åœ¨ `app/globals.css` ä¸ `tailwind.config.js` ä¸­æ£€æŸ¥/è°ƒæ•´ CSS å˜é‡ä¸ä¸»é¢˜é¢œè‰²ï¼Œä½¿åŸºç¡€è‰²ä¸ºé»‘ç™½ç°ï¼ˆå¦‚ `zinc/slate`ï¼‰ï¼Œå¹¶é™åˆ¶å¼ºè°ƒè‰²æ•°é‡ä¸º 2â€“3 ç§
- [x] T015 [P] [US2] è°ƒæ•´ `app/(dashboard)/layout.tsx` ä¸­å®¹å™¨ä¸èƒŒæ™¯æ ·å¼ï¼ˆèƒŒæ™¯è‰²ã€åˆ†å‰²çº¿ã€é˜´å½±ï¼‰ï¼Œå®ç°é»‘ç™½æç®€çš„ä¸»æ¡†æ¶è§†è§‰
- [x] T016 [P] [US2] é‡æ„ `app/(dashboard)/home/page.tsx` ä¸­çš„ç»Ÿè®¡å¡ç‰‡åŒºåŸŸï¼Œç»Ÿä¸€ä½¿ç”¨ `components/ui/Card.tsx` ä¸ç®€æ´çš„æ–‡å­—å±‚çº§ï¼ˆæ ‡é¢˜ã€å‰¯æ ‡é¢˜ã€æ•°æ®å€¼ã€å˜åŒ–å¾½æ ‡ï¼‰
- [x] T017 [P] [US2] å·¡æ£€å¹¶å¾®è°ƒ `app/(dashboard)/analytics/page.tsx`ã€`app/(dashboard)/publish/page.tsx`ã€`app/(dashboard)/settings/page.tsx` ä¸­æŒ‰é’®ã€æ ‡ç­¾ã€å›¾æ ‡çš„é¢œè‰²ï¼Œä½¿å…¶ç¬¦åˆé»‘ç™½æç®€ä¸å¼ºè°ƒè‰²çº¦æŸ

**Checkpoint**: ä¸»è¦ dashboard é¡µé¢åœ¨è§†è§‰ä¸Šå·²ç»Ÿä¸€ä¸ºé»‘ç™½æç®€é£æ ¼ï¼Œä¿¡æ¯å±‚çº§æ¸…æ™°ï¼Œå¼ºè°ƒè‰²ä½¿ç”¨å…‹åˆ¶ã€‚

---

## Phase 5: User Story 3 - å¿«é€Ÿåˆ›ä½œå…¥å£ä¸æ•°æ®è®¿é—®è·¯å¾„ (Priority: P3)

**Goal**: é€šè¿‡é¦–é¡µåŠç›¸å…³æ¨¡å—æä¾›é«˜é¢‘åˆ›ä½œå’Œæ•°æ®è®¿é—®å…¥å£ï¼Œå‡å°‘è·³è½¬å’Œæ“ä½œæ­¥éª¤ã€‚  
**Independent Test**: è¿è¥ç”¨æˆ·åœ¨ 3 æ­¥ä»¥å†…å³å¯ä»é¦–é¡µè¿›å…¥ã€Œåˆ›å»ºæ–‡ç« /åˆ›å»ºå›¾æ–‡/åˆ›å»ºè§†é¢‘ã€é¡µé¢æˆ–æŸ¥çœ‹å…³é”®æ•°æ®æ˜ç»†ã€‚

### Implementation for User Story 3

- [x] T018 [US3] åœ¨ `app/(dashboard)/home/page.tsx` ä¸­å®ç°ã€Œåˆ›å»ºæ–‡ç«  / åˆ›å»ºå›¾æ–‡ / åˆ›å»ºè§†é¢‘ã€å¿«é€Ÿå…¥å£æŒ‰é’®åŒºåŸŸï¼Œå¹¶ä½¿ç”¨ `Button` ç­‰ shadcn ç»„ä»¶
- [x] T019 [P] [US3] ä¸ºå¿«é€Ÿå…¥å£æŒ‰é’®é…ç½®å®é™…è·¯ç”±/å ä½é¡µé¢ï¼š`app/(dashboard)/publish/create-article/page.tsx`ã€`app/(dashboard)/publish/create-video/page.tsx`ï¼Œç¡®ä¿ç‚¹å‡»ååœ¨åŒä¸€å¸ƒå±€ä½“ç³»ä¸‹æ‰“å¼€
- [x] T020 [US3] ä¸ºä¸»é¡µä¸Šçš„æ ¸å¿ƒæ•°æ®å¡ç‰‡ï¼ˆä½œå“æ¦‚è§ˆã€è´¦å·æ¦‚è§ˆã€å‘å¸ƒæ¦‚è§ˆã€äº’åŠ¨æ¦‚è§ˆï¼‰åœ¨ `app/(dashboard)/home/page.tsx` ä¸­å¢åŠ ç‚¹å‡»è¡Œä¸ºï¼Œåˆ†åˆ«è·³è½¬åˆ° `analytics`ã€`data-overview` æˆ–å…¶ä»–å¯¹åº”æ˜ç»†é¡µé¢
- [x] T021 [P] [US3] åœ¨ `app/(dashboard)/data-overview/page.tsx` ä¸­ä½¿ç”¨ `DashboardSectionCard` ç»“æ„æ¸²æŸ“å…³é”®æŒ‡æ ‡åˆ—è¡¨ï¼Œä¸ºåç»­æ¥å…¥çœŸå®æ•°æ®é¢„ç•™ä½ç½®

**Checkpoint**: è¿è¥ç”¨æˆ·å¯ä»¥é€šè¿‡æ–°å¸ƒå±€å¿«é€Ÿå®Œæˆé«˜é¢‘åˆ›ä½œæ“ä½œï¼Œå¹¶ä»æ¦‚è§ˆå¡ç‰‡è¿›å…¥æ›´æ·±å±‚çš„æ•°æ®è§†å›¾ã€‚

---

## Phase 6: Polish & Cross-Cutting Concerns

**Purpose**: ç»Ÿä¸€ä½“éªŒã€æ€§èƒ½ä¸ç»†èŠ‚ï¼Œå®Œå–„æ•´ä¸ª dashboard è¿­ä»£ã€‚

- [ ] T022 [P] åœ¨é¡¹ç›®æ ¹ç›®å½• `./` è¿è¡Œ `pnpm lint` ä¸ `pnpm build`ï¼Œä¿®å¤å› æœ¬æ¬¡æ”¹åŠ¨å¯¼è‡´çš„ TS/Lint é”™è¯¯ï¼ˆå°¤å…¶æ˜¯æ–°å»ºæ–‡ä»¶ä¸å¯¼å…¥è·¯å¾„ï¼‰
- [ ] T023 [P] åœ¨ `app/(dashboard)/layout.tsx` ä¸ `app/(dashboard)/home/page.tsx` ä¸­å®ç°éª¨æ¶å±æˆ– loading çŠ¶æ€ï¼Œä»¥æ»¡è¶³ FR-010ï¼ˆå¯ä½¿ç”¨ç®€å•çš„ skeleton å ä½ï¼‰
- [ ] T024 åœ¨ `components/layout/DashboardSidebar.tsx` ä¸­æ ¹æ® `DashboardLayoutState` è°ƒæ•´å“åº”å¼æŠ˜å ä¸æŠ½å±‰å¼å¯¼èˆªç»†èŠ‚ï¼Œæ‰‹åŠ¨éªŒè¯å®½åº¦æ–­ç‚¹ï¼ˆâ‰¥1024, <1024, <768ï¼‰
- [ ] T025 æ›´æ–° `specs/001-dashboard-layout-update/quickstart.md` æˆ–æ ¹ç›®å½• `README.md` ä¸­çš„ç›¸å…³è¯´æ˜ï¼Œå¢åŠ æ–°çš„ dashboard ç»“æ„ä¸å¯¼èˆªè¯´æ˜

---

## Dependencies & Execution Order

### Phase Dependencies

- **Setup (Phase 1)**: æ— ä¾èµ–ï¼Œå¯ç«‹å³å¼€å§‹
- **Foundational (Phase 2)**: ä¾èµ– Phase 1 å®Œæˆï¼Œæ˜¯æ‰€æœ‰ User Story çš„å‰ç½®æ¡ä»¶
- **User Story Phases (3â€“5)**:
  - US1 (P1) ä¾èµ– Foundational å®Œæˆï¼Œæ˜¯æœ¬æ¬¡è¿­ä»£çš„ MVP
  - US2 (P2) ä¾èµ– US1 çš„å¸ƒå±€éª¨æ¶ç¨³å®šåå†è¿›è¡Œè§†è§‰ä¸ä¿¡æ¯å±‚çº§ä¼˜åŒ–
  - US3 (P3) ä¾èµ– US1 çš„å¯¼èˆªä¸ US2 çš„è§†è§‰ç»“æ„ï¼Œå¯ä¸ US2 éƒ¨åˆ†å¹¶è¡Œ
- **Polish (Phase 6)**: ä¾èµ–æ‰€æœ‰å¸Œæœ›æœ¬è½®å®Œæˆçš„ User Story å·²å®ç°

### User Story Dependencies

- **User Story 1 (US1)**: ä»…ä¾èµ– Phase 1â€“2ï¼Œå¯å•ç‹¬ä½œä¸º MVP å‘å¸ƒ
- **User Story 2 (US2)**: å»ºè®®åœ¨ US1 å®Œæˆåè¿›è¡Œï¼Œé¿å…åå¤è°ƒå¸ƒå±€ä¸è§†è§‰
- **User Story 3 (US3)**: åœ¨ US1 å®Œæˆåå³å¯å¼€å§‹ï¼Œä¸ US2 å±€éƒ¨å¹¶è¡Œï¼ˆå°½é‡é¿å…ä¿®æ”¹åŒä¸€æ–‡ä»¶çš„ç›¸åŒåŒºåŸŸï¼‰

### Within Each User Story

- ä¼˜å…ˆå®Œæˆç»“æ„æ€§ä»»åŠ¡ï¼ˆå¸ƒå±€ã€ç±»å‹å®šä¹‰ï¼‰å†å¡«å……å…·ä½“å†…å®¹ä¸æ ·å¼
- é¿å…å¤šä¸ªä»»åŠ¡åœ¨åŒä¸€æ–‡ä»¶åŒä¸€åŒºåŸŸåŒæ—¶ä¿®æ”¹ï¼Œé™ä½å†²çªå‡ ç‡
- æ¯ä¸ª Story å®Œæˆåï¼ŒæŒ‰ spec ä¸­çš„ Acceptance Scenarios æ‰‹åŠ¨è‡ªæµ‹ä¸€é

### Parallel Opportunities

- Phase 1â€“2 ä¸­æ ‡è®°ä¸º `[P]` çš„ä»»åŠ¡å¯ç”±ä¸åŒäººå¹¶è¡Œå®Œæˆï¼ˆä¾èµ–å…³ç³»æ˜ç¡®çš„å‰æä¸‹ï¼‰
- US1 ä¸­ `DashboardSidebar` ä¸å ä½é¡µé¢åˆ›å»ºå¯å¹¶è¡Œï¼ˆT009, T011ï¼‰
- US2 ä¸­å„ä¸ªé¡µé¢çš„æ ·å¼å·¡æ£€å¯ä»¥å¹¶è¡Œï¼ˆT016, T017ï¼‰
- US3 ä¸­æŒ‰é’®è·¯ç”±ä¸æ•°æ®å¡ç‰‡è¡Œä¸ºå¯å¹¶è¡Œï¼ˆT018â€“T021 ä¹‹é—´æŒ‰æ–‡ä»¶æ‹†åˆ†ï¼‰
- Phase 6 ä¸­ lint/build ä¸ loading/å“åº”å¼ç»†èŠ‚ä¼˜åŒ–å¯ç”±ä¸åŒäººå¹¶è¡Œå¤„ç†

---

## Implementation Strategy

### MVP First (User Story 1 Only)

1. å®Œæˆ Phase 1: Setup  
2. å®Œæˆ Phase 2: Foundational  
3. å®Œæˆ Phase 3: US1ï¼ˆå·¦å³å¸ƒå±€ + å·¦ä¾§å¯¼èˆª + åŸºæœ¬è·¯ç”±ï¼‰  
4. æ‰‹åŠ¨éªŒè¯ US1 çš„ Acceptance Scenariosï¼Œå¦‚æ— é—®é¢˜å³å¯ä½œä¸ºé¦–ä¸ªå¯æ¼”ç¤ºç‰ˆæœ¬

### Incremental Delivery

1. åœ¨ MVP åŸºç¡€ä¸Šï¼Œé€æ­¥å®ç° US2ï¼ˆé»‘ç™½æç®€è§†è§‰ï¼‰â†’ US3ï¼ˆå¿«æ·å…¥å£ä¸æ•°æ®è®¿é—®ï¼‰  
2. æ¯å®Œæˆä¸€ä¸ª User Storyï¼Œå°±æŒ‰å…¶ç‹¬ç«‹æµ‹è¯•æ ‡å‡†è¿›è¡Œèµ°æŸ¥  
3. æ‰€æœ‰ Story å®Œæˆåå†è¿›å…¥ Phase 6 åšç»Ÿä¸€æ‰“ç£¨ä¸éªŒæ”¶

